{% extends "../layout.html" %} {% block body %}

<div class="card m-2 h-100">
  <div class="card-body">
    <h4 class="card-header text-center">Editar Producto</h4>
    <div class="card-text">
        <form class="m-3" method="post" action="/market/product/edit/{{product_to_edit.id}}">

        {% csrf_token %}
        <div class="input-group mt-3">
          <input
            type="text"
            class="form-control"
            placeholder="Nombre del Producto"
            aria-label="name"
            id="name"
            name="name"
            value="{{product_to_edit.tittle}}"
            required
          />
        </div>

        <div class="input-group mt-3">
          <input
            type="number"
            class="form-control"
            placeholder="Precio"
            aria-label="Precio"
            id="price"
            name="price"
            value="{{product_to_edit.price}}"
            required
          />
        </div>

        <select
          class="form-select mt-3"
          aria-label="Default select example"
          name="category"
          required
        >
        <option disabled>Seleccione una categoria</option>
        {% for category in allCategories %}
          <option value="{{category.id}}" {% if category.id == product_to_edit.category_id.id %}selected="selected"{% endif %}>{{ category.description }}</option>
        {% endfor %}
        </select>

        <div class="input-group mt-3">
          <input
            type="file"
            class="form-control"
            name="img"
            id="img"
            required
          />
        </div>

        <div class="input-group mt-3">
          <textarea
            class="form-control"
            aria-label="With textarea"
            id="description"
            name="description"
            placeholder="Descripcion"
            required
            >{{product_to_edit.description}}</textarea>
        </div>

        <div class="d-flex justify-content-end m-3">
          <button type="submit" class="btn btn-success btn-sm">
            Editar producto
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}